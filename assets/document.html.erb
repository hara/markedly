<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <%- unless css.nil? -%>
    <link rel="stylesheet" href="<%= css.href %>">
    <%- end -%>
    <%- if preview -%>
    <script>
      var ws = new WebSocket('ws://localhost:<%= port %>');

      ws.onmessage = function(event) {
        if (event.data == 'updated') {
          window.location.reload();
        }
      };

      window.onunload = function() {
        ws.close();
      };
    </script>
    <%- end -%>
    <%- unless style.nil? -%>
    <style>
      <%= style %>
    </style>
    <%- end -%>
  </head>
  <body>
    <div class="container">
      <%= body %>
    </div>
  </body>
</html>
